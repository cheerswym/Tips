# Localization Module
module_class_name: "LocalizationModule"
module_name: LOCALIZATION_MODULE
inputs: { field_name: "shm_message_metadata", channel: "lidar_spin" }
inputs: {
  field_name: "shm_message_metadata",
  channel: "encoded_lidar_frame",
  allow_xnode_input: true
}
inputs: { field_name: "gnss_raw_reading_proto", allow_xnode_input: true }
inputs: { field_name: "autonomy_state_proto" }
inputs: { field_name: "pose_proto", allow_xnode_input: true }  # Onboard only
outputs: { field_name: "localization_transform_proto" }
outputs: { field_name: "localization_pose_proto" }
outputs: { field_name: "localization_debug_proto" }
# system msg
inputs: { field_name: "system_command_proto" }
# Follow message are for offboard only.
inputs: { field_name: "pose_proto", channel: "sensor_pose" }  # Simulation only
outputs: { field_name: "counter_proto" }
outputs: { field_name: "execution_issue_proto" }
outputs: { field_name: "log_proto" }
outputs: { field_name: "q_events_proto" }
outputs: { field_name: "system_info_proto" }
outputs: { field_name: "system_state_proto" }
outputs: { field_name: "trace_proto" }
# channel checker config
checkers: {
  field_name: "localization_transform_proto",
  min_frequency: 5,
  max_frequency: 5,
  frame_window_size: 6,
  critical: true
}

module_startup_exit_priority: 2

# Maximum CPU usage of the module.
max_cpu_usage: 130

# Maximum memory usage of the module.
max_memory_usage_kb: 5030000

# heartbeat config of the module.
heartbeat_config: { kickout_deadline: 1000000, terminate_deadline: 10000000 }

module_restart_times: 1
