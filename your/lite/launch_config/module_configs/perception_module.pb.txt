# Perception Module
module_class_name: "PerceptionModule"
module_name: PERCEPTION_MODULE
inputs: { field_name: "label_frame_proto" }
inputs: { field_name: "lidar_host_time_diff_proto" }
inputs: { field_name: "localization_transform_proto", allow_xnode_input: true }
inputs: { field_name: "pose_proto" }  # Onboard only
inputs: { field_name: "shm_message_metadata", channel: "decoded_image" }
inputs: { field_name: "shm_message_metadata", channel: "lidar_spin" }
inputs: { field_name: "radar_measurements_proto" }
inputs: { field_name: "measurements_proto", channel: "radar_measurements" }
inputs: { field_name: "semantic_segmentation_results_proto" }
outputs: { field_name: "depth_maps_proto" }
outputs: { field_name: "execution_issue_proto" }
outputs: { field_name: "fen_detections_proto" }
outputs: { field_name: "measurements_proto", channel: "laser_measurements" }
# For old radar data compatible, only used in offboard simualtion.
outputs: { field_name: "measurements_proto" }

outputs: { field_name: "obstacles_proto" }
outputs: { field_name: "points_in_image_proto" }
outputs: { field_name: "pose_correction_proto" }
outputs: { field_name: "cluster_filter_debug_proto" }
outputs: { field_name: "segments_in_image_proto" }
outputs: { field_name: "traffic_light_regions_proto" }
outputs: { field_name: "traffic_light_states_proto" }
outputs: { field_name: "pcn_regions_proto" }
outputs: { field_name: "pose_correction_debug_proto" }
outputs: { field_name: "range_images_proto" }
outputs: { field_name: "segmentation_objects_proto" }
outputs: { field_name: "sensor_fovs_proto" }

# system msg
inputs: { field_name: "system_command_proto" }
outputs: { field_name: "counter_proto" }
outputs: { field_name: "execution_issue_proto" }
outputs: { field_name: "log_proto" }
outputs: { field_name: "q_events_proto" }
outputs: { field_name: "system_info_proto" }
outputs: { field_name: "system_state_proto" }
outputs: { field_name: "trace_proto" }
outputs: { field_name: "canvas_buffers_proto" }
# Follow message are for offboard only.
inputs: { field_name: "pose_proto", channel: "sensor_pose" }  # Simulation only
outputs: { field_name: "detection_objects_proto" }
outputs: { field_name: "label_frame_proto" }

# channel checker config
# checkers:{field_name:"fen_detections_proto", min_frequency:10,
# max_frequency:10} checkers:{field_name:"measurements_proto",
# min_frequency:10, max_frequency:10}
checkers: {
  field_name: "obstacles_proto",
  min_frequency: 3,
  max_frequency: 15,
  frame_window_size: 5
}
# checkers: {
#   field_name: "pose_correction_proto",
#   min_frequency: 1,
#   max_frequency: 15,
#   frame_window_size: 5
# }
checkers: {
  field_name: "measurements_proto",
  channel: "laser_measurements",
  min_frequency: 3,
  max_frequency: 15,
  frame_window_size: 10
}
# checkers:{field_name:"cluster_filter_debug_proto", min_frequency:10,
# max_frequency:10} checkers:{field_name:"pcn_regions_proto", min_frequency:10,
# max_frequency:10} checkers:{field_name:"pose_correction_debug_proto",
# min_frequency:10, max_frequency:10} checkers:{field_name:"range_images_proto",
# min_frequency:10, max_frequency:10}
# checkers:{field_name:"segmentation_objects_proto", min_frequency:10,
# max_frequency:10}

# module startup exit priority
module_startup_exit_priority: 2

module_restart_times: 1
