# scripts/run_simulation.sh
# --scenario_path=/qcraft/onboard/control/testdata/control_field_test/20210719_130903_Q0001/20210719_130903_Q0001_sim.pb.txt
commandline_flags: "--map=village"
commandline_flags: "--planner_load_saved_trajectory=/qcraft/onboard/control/testdata/control_field_test/20210719_130903_Q0001/20210719_130903_Q0001_25_90.pb.txt"
commandline_flags: "--sim_mode=csim"
execution {
  playback_sources {
    run_or_stf_path: "/media/s3/run_data/20210719_130903_Q0001"
    duration: 65
    start_offset: 24
  }
  sim_modules {
    perception_module { module: PERCEPTION_MODULE playback_source_id: 0 }
    positioning_module {
      module: POSITIONING_MODULE
      playback_source_id: 0
      # disable:true
    }
    localization_module { module: LOCALIZATION_MODULE playback_source_id: 0 }
    vehicle_control_module {
      module: VEHICLE_CONTROL_MODULE
      # playback_source_id: 0
      enable: true
    }
    spin_publisher_module { module: SPIN_PUBLISHER_MODULE disable: true }
    gnss_imu_driver_module {
      module: GNSS_IMU_DRIVER_MODULE
      playback_source_id: 0
    }
    image_publisher_module { module: IMAGE_PUBLISHER_MODULE disable: true }
    vantage_forwarding_module { module: VANTAGE_FORWARDING_MODULE enable: true }
    simulation_vehicle_module {
      module: SIMULATION_VEHICLE_MODULE
      enable: true
      module_conf {
        [qcraft.SimVehicleConf.sim_vehicle_conf] { engage_start_time: 1 }
      }
    }
    can_bus_module { module: CAN_BUS_MODULE disable: true }
    autonomy_state_module { module: AUTONOMY_STATE_MODULE enable: true }
    planner_module { module: PLANNER_MODULE enable: true }
    routing_module { module: ROUTING_MODULE enable: true }
    virtual_object_module { module_conf {} }
    remote_assist_module { module: REMOTE_ASSIST_MODULE enable: true }
    vision_module { module: VISION_MODULE playback_source_id: 0 }
  }
}
