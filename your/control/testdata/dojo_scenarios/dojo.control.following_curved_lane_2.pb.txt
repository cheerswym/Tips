name: "dojo.control.following_curved_lane"
edit_attr {
  description: "Control dojo scenario: following curved lane 2"
  test_sets: "dojo"
  test_sets: "control_virtual_coverage"
}
execution {
  sim_duration: 60
  playback_sources { run_or_stf_path: "" }
  sim_modules {
    perception_module { module: PERCEPTION_MODULE playback_source_id: 0 }
    positioning_module { module: POSITIONING_MODULE playback_source_id: 0 }
    vehicle_control_module { module: VEHICLE_CONTROL_MODULE enable: true }
    spin_publisher_module { module: SPIN_PUBLISHER_MODULE disable: true }
    gnss_imu_driver_module {
      module: GNSS_IMU_DRIVER_MODULE
      playback_source_id: 0
    }
    image_publisher_module { module: IMAGE_PUBLISHER_MODULE disable: true }
    vantage_forwarding_module { module: VANTAGE_FORWARDING_MODULE enable: true }
    simulation_vehicle_module {
      module: SIMULATION_VEHICLE_MODULE
      enable: true
      module_conf {
        [qcraft.SimVehicleConf.sim_vehicle_conf] {
          engage_start_time: 1
          initial_pose {
            pos_smooth { x: 279.6 y: -90.6 }
            vel_body { x: 3.5 y: 0.0 }
            accel_body { x: 0.0 y: 0.0 }
            yaw: -2.9
          }
        }
      }
    }
    can_bus_module { module: CAN_BUS_MODULE disable: true }
    autonomy_state_module { module: AUTONOMY_STATE_MODULE enable: true }
    planner_module { module: PLANNER_MODULE enable: true }
    virtual_object_module {
      module: VIRTUAL_OBJECT_MODULE
      enable: true
      module_conf {
        [qcraft.VirtualObjectsConfProto.virtual_objects_conf] {}
      }
    }
    online_simulation_module { module: ONLINE_SIMULATION_MODULE disable: true }
    create_sim_messages_module {
      module: CREATE_SIM_MESSAGES_MODULE
      disable: true
    }
    remote_assist_module { module: REMOTE_ASSIST_MODULE enable: true }
    vision_module { module: VISION_MODULE playback_source_id: 0 }
    routing_module { module: ROUTING_MODULE enable: true }
    mock_localization_module { module: MOCK_LOCALIZATION_MODULE enable: true }
  }
}
metrics {
  name: "enter_cruise_metric"
  enter_cruise_metric {}
}
metrics {
  name: "execution_issue_metric"
  execution_issue_metric {}
}
metrics {
  name: "collision_metric"
  collision_metric {}
}
metrics {
  name: "stats_metric"
  stats_metric {}
}
metrics {
  name: "control_performance_metric"
  control_performance_metric {}
}
commandline_flags: "--map=dojo"
commandline_flags: "--route=destinations{lane_point{lane_id:1854 fraction:1.0}}"
commandline_flags: "--remote_control_server_address=127.0.0.1"
